name: update-dotnet-sdk

on:
  schedule:
    - cron:  '00 19 * * TUE'
  workflow_dispatch:

permissions:
  contents: read

jobs:
  update-sdk:
    uses: martincostello/update-dotnet-sdk/.github/workflows/update-dotnet-sdk.yml@dotnet-nightly
    with:
      include-nuget-packages: 'AspNet.Security.OAuth.Apple,Microsoft.AspNetCore.'
      labels: 'dependencies,.NET'
      channel: '8.0.1xx-preview7'
      quality: 'daily'
      user-email: ${{ vars.GIT_COMMIT_USER_EMAIL }}
      user-name: ${{ vars.GIT_COMMIT_USER_NAME }}
    secrets:
      repo-token: ${{ secrets.ACCESS_TOKEN }}
